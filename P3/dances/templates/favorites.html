{% extends 'base.html' %}

{% if g.user %}

{% block header %}
  <h1 class="display-4 mb-3">Favorite Dances</h1>
  <p class="lead">All of your favorite dances</p>
{% endblock %}

{% block content %}
    {% for fav in favorites %}
    <div class="col">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ fav['dance_name'] }}</h5>
            <p class="card-text">
              <small class="text-muted">
                <i class="bi bi-calendar3 me-1"></i>
                Date favorited: {{ fav['date_added'] }}
              </small>
            </p>
            <p class="card-text">
              <small class="text-muted">
                Rating:
                {% for i in range(fav['rating']) %}
                  <i class="bi bi-star-fill text-warning"></i>
                {% endfor %}
                {% for i in range(5 - fav['rating']) %}
                  <i class="bi bi-star text-warning"></i>
                {% endfor %}
              </small>
            </p>
          </div>
        </div>
      </div>
      
        {% else %}
        <p>No favorites found for this user.</p>
    {% endfor %}
{% endblock %}

{% else %}
<h1>Error: not logged in</h1>
{% endif %}
</body>
</html>